# This file describes specific host vars
hostname: heaven-roberval.youtous.dv
ipv4:
  - 192.168.100.11
ipv6:
  - fde4:8dba:82e1::c2

host_users: []

### Begin of smtp relay parameters ###

# smtp relay parameters
relay_email: monitoring-heaven-pascal@youtous.me
relay_user: "{{ relay_email }}"
relay_password: "{{ secret_relay_password }}"

### End of smtp relay parameters ###

### Begin of Wireguard client parameters ###

# allow VPN clients to access DNS

wireguard_client_public_key: "VtgEDbhCLKhGMULdFxDliyccRwXv03r69lhY41gWhjA=" # private in vault
wireguard_client_server_public_key: "0dE5sNjWqFUeUFRSvI9VTNu/OXPclLB/8bmw1fqUVCc=" # private in vault
wireguard_client_endpoint: "heaven-pascal.youtous.dv:1990"
wireguard_client_address:
  - 10.99.99.2/24
  - fdc9:281f:04d7:9ee9::2/64

### End of Wireguard client parameters ###


### Begin of Backup strategy parameters ###

# deploy generated ssh keys for root
users_ssh_keys:
  - username: root
    public_key: "{{ root_public_key }}"
    private_key: "{{ root_private_key }}"

# backup strategy (see role for more details)
global_backup_gpg_public_key:
  name: F5EAF9D1E402E6DF
  key: "{{ secret_backup_gpg_public_key }}"
# key used for signing backups
global_backup_gpg_private_key:
  name: DD736F204C981335
  key: "{{ secret_backup_gpg_private_key }}"
global_backup_gpg_ownertrust:
  name: "{{ global_backup_gpg_public_key.name }}.ownertrust.txt"
  value: "3892070272A27D94AAC650F6DD736F204C981335:6:"
# passphrase of the signing and decrypting keys /!\ PLEASE ESCAPE THE PASSPHRASE IF IT CONTAINS ' CHARACTERS
global_backup_gpg_key_passphrase: "{{ secret_backup_gpg_key_passphrase }}"

global_backup_destination: "pexpect+sftp://backup_heaven-roberval@{{ hostvars['heaven-pascal.youtous.dv']['hostname'] }}/home"
# change the cron-job minute
global_backup_jobs:
  - name: duply-backup-global
    job: PATH=/usr/local/bin:$PATH /usr/local/bin/duply global backup_verify_purge --force
    minute: "15"
    hour: "6"
    day: "*"
    month: "*"
    weekday: "*"
# what to keep ?
global_backup_excludes:
  - "+ /home"
  - "+ /var/lib/docker/volumes"
  - "+ /var/lib/docker/swarm"
  - "- **" # only keep home folder and swarm
### End of Backup strategy parameters ###
