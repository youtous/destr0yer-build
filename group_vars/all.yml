---
# Variables listed here are applicable to all host groups

###  Beginning of destr0yers vars  ###
users_default_shell: "/usr/bin/fish"

# Time configuration
timezone: "Europe/Paris"

# Network configuration
domain_name: youtous.me
domain_search: []
nameservers:
  - 1.1.1.1
  - 1.0.0.1
  - 2606:4700:4700::1111
  - 2606:4700:4700::1001

# Email that will receive all notifications, useful for monitoring
monitoring_email: "monitoring@youtous.me"

# email server used to deliver emails
relay_server: "mail.youtous.me"
relay_port: 587

common_users:
  # arbiter is the only sudoer
  - username: "{{ arbiter_username }}"
    name: System's Arbiter
    groups: ['admin', 'sshusers']
    uid: 1005
    home: /home/arbiter
    profile:
    ssh_key: "{{ arbiter_ssh_keys }}"
    password: "{{ arbiter_password }}"
    update_password: "always"

common_groups_to_create:
  - name: admin
    gid: 10000
  - name: users
    gid: 20000
  - name: sshusers
    gid: 20500

# ips which should never be banned
fail2ban_trusted_ips:
  - "163.172.154.21"
  - "192.168.100.1"

# entrypoints ips from where we can access base_destr0yers
ssh_entrypoints:
  - "163.172.154.21"
  - "192.168.100.1"

###  End of destr0yers vars  ###

### Begin of the-swarm global vars ###

# ips that will be allowed to access the backend
trusted_backend_ips: "{{ ssh_entrypoints }}"

# list of auth users for the backend user:bcrypt(pass):
backend_users: "{{ backend_users|default([]) }}"

# version of docker-compose to install
docker_compose_version: "1.24.0"

# ips of the nodes of the swarm
nodes_ips: "{{
  groups['workers'] | map('extract', hostvars, ['ipv4']) | first | default([]) +
  groups['workers'] | map('extract', hostvars, ['ipv6']) | first | default([]) +
  groups['managers'] | map('extract', hostvars, ['ipv4']) | first | default([])  +
  groups['managers'] | map('extract', hostvars, ['ipv6']) | first | default([]) +
  groups['primary_manager'] | map('extract', hostvars, ['ipv4']) | first | default([])  +
  groups['primary_manager'] | map('extract', hostvars, ['ipv6']) | first | default([])
}}"

# first manager ipv4
primary_manager_ipv4: "{{ groups['primary_manager'] | map('extract', hostvars, ['ipv4']) | first | first }}"

# when you delete a node from the cluster, add his ip here in order to revoke his access
revoked_nodes_ips: []
# list of node ids to remove from the cluster
revoked_nodes_ids: []

# CA cert issuer of the node certs
docker_swarm_CA_certificate: |
  -----BEGIN CERTIFICATE-----
  MIIGDzCCA/egAwIBAgIUS2q8Bk6pUGB43j+2ysjI2yTH7aQwDQYJKoZIhvcNAQEL
  BQAwgZYxCzAJBgNVBAYTAkZSMQ8wDQYDVQQIDAZGcmFuY2UxDjAMBgNVBAcMBVBh
  cmlzMRMwEQYDVQQKDAp5b3V0b3VzLm1lMRkwFwYDVQQLDBBzd2FybS55b3V0b3Vz
  Lm1lMRMwEQYDVQQDDAp5b3V0b3VzLm1lMSEwHwYJKoZIhvcNAQkBFhJjb250YWN0
  QHlvdXRvdXMubWUwHhcNMTkwNDI3MTgxMTQ0WhcNMjIwMjE0MTgxMTQ0WjCBljEL
  MAkGA1UEBhMCRlIxDzANBgNVBAgMBkZyYW5jZTEOMAwGA1UEBwwFUGFyaXMxEzAR
  BgNVBAoMCnlvdXRvdXMubWUxGTAXBgNVBAsMEHN3YXJtLnlvdXRvdXMubWUxEzAR
  BgNVBAMMCnlvdXRvdXMubWUxITAfBgkqhkiG9w0BCQEWEmNvbnRhY3RAeW91dG91
  cy5tZTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAL1hXSxyhw1LGquL
  lyPs1MewL77gO5pHNQW6cnMNTiWT5cmxjcAKFrUjG6WPOiHEYLcjNlAc2eg0fEWQ
  3mz+pef+fkw5v/j/EGH+NgjjeoNLUWyKwk4A8HsZVilXlpip2n/fgt2p8RRGrqYo
  LILJYhnXzDwZlJBv9fXOJ2bVvPnxlIXMwUu+poha4aYmQVH5aOUCiCypzr4JeRP2
  ES0e8S1X/w1UToTcNqVKDx9mojsqU8l+VxTJDOO4GP/Bij1B2zbfGg0QgSnixAlO
  CdwTt5yEOLHf6cHDiejdpqPYmzrB5GmgTUIIYzR1mGDRN//kRwWKVlgxgCGOMvcw
  Sg/6cHWtZf/eEIzAhQ9qYQP8RQHmZtpXo6vLOKKrUFoAGk0llg20DZPVWPMJxBGk
  JKJOj9ObjEW5WOI5PXmZv2WrCbEDTzqLIFPOLpnA6uS2PGrL0HC9iYbkLkkDftoS
  bCwqf18G8lSsmFxvzNeF4UloM8mWDIyGWkmNw1iu3LtZyBnySi538Zc8k/h5rLrk
  +RIPS+mJHCNDRFhUmUqrpi6lX69oq0KFugW5SCAlw2xezHHpASwxN61SR24glWoL
  vcpP6eIqyT3B2Yz21hwAik+IeYR6DmeFO/KX+yDC5sdxj2RkSpZS8KQ7P+Gzkawg
  FT1IX0dc+Oo+Cd1xOQTLBkZkM1u1AgMBAAGjUzBRMB0GA1UdDgQWBBQ63+6+zaCj
  ppTLu0DvC9ehjWUXWzAfBgNVHSMEGDAWgBQ63+6+zaCjppTLu0DvC9ehjWUXWzAP
  BgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4ICAQCncBs4BUCWSnGVppNN
  qYDV4phimu8Vrm//zcr9EZ8qRUI5YHHAD1v8G6Ricg1+l6Nydbfw9c+4HsN3nFFp
  G2MDmrApUzxmn6gjzaBanlCpE28+gQFfwjDeoIiojHILQMiL2GId7XgM/3l0O9gN
  YqNWwou4GwEMuggkYtIGbGVVDv1l4aBntwrH5yH48Z39wdG/cO6PbvUrhbs4ruCT
  0QP805slpV00wRGLrNzpiO9hNW6nalgKWK7/zh4Hbam6t9ObbkJx4aDXeRKn1vUi
  L0eZOicrmIuyS9tuxUljSmOakUDT0vxls193k1D0g6lgU/VaD9K1uMiv2aiZofni
  NaqXR6OEbb8KyW+3IOVMwKjfsf0MJPrpkZzgnNh9MU5Y14g5nDc+yqo38bwgs7xG
  JJ5he0tQKwJ+54AiD4YYItUhtMOraaPUx2rlbLS9zGNGYNoun5J5RnfnPFPUtrdg
  qTK62S/m+SQyeazOkFzGx0Z2ECvwVtEOOW/YLYRXxfi3ehpApoOi8LvGWrpuiTfk
  N/YlBUUJ40hf/Odl3vBZ0ye8FoFF+Tv5mlI/HJTaYLyXbNR+AqRMURanhK+ru0+/
  dKfXwzPKXW9onFhKmwrVxqzK8dEsJ3/LJej2ZGoSMAmVQZ9tVd1ctsWZHpbJROFV
  tS9sqqee09FCbKoIHYDxErbK5Q==
  -----END CERTIFICATE-----

# CA cert issuer of the logstash/logspout certs
logstash_CA_certificate: |
  -----BEGIN CERTIFICATE-----
  MIIF6zCCA9OgAwIBAgIUeo3acQkAusJUOu7htZcpclmr36EwDQYJKoZIhvcNAQEL
  BQAwgYQxCzAJBgNVBAYTAkZSMQ8wDQYDVQQIDAZGcmFuY2UxDjAMBgNVBAcMBVBh
  cmlzMRMwEQYDVQQKDAp5b3V0b3VzLm1lMRowGAYDVQQLDBFoZWF2ZW4ueW91dG91
  cy5tZTEjMCEGA1UEAwwabG9nc3Rhc2guaGVhdmVuLnlvdXRvdXMubWUwHhcNMTkw
  NzEzMTYzNzM4WhcNMjYwNTE3MTYzNzM4WjCBhDELMAkGA1UEBhMCRlIxDzANBgNV
  BAgMBkZyYW5jZTEOMAwGA1UEBwwFUGFyaXMxEzARBgNVBAoMCnlvdXRvdXMubWUx
  GjAYBgNVBAsMEWhlYXZlbi55b3V0b3VzLm1lMSMwIQYDVQQDDBpsb2dzdGFzaC5o
  ZWF2ZW4ueW91dG91cy5tZTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIB
  AJ2KCahES+YbwcF0eNvcxc7D1Zuvh4OTPbQEz+UDiLjtEXtxdZkt8710vQRC0ont
  ws2DmggxpL0+xVQLa55XpxiQ94/o/If6fOyosN19w1HFEAf+lsCNqKnJ1jNmFuqO
  FJOA4HuNe7eXwcTarXfBf8JUxeA5CPVTKv3Nv5UO2Eu0Sj34BIE6MTq6QwZSGjPo
  g3FoIBttYN9w7ufCVX/7kYEEuBgWYo9hOBLNWi8jtCt7Yq9oVb/k2v+iFrJ6OCpD
  LO4D4n+ZwKylnEsN3zXbUsHXYXBqGyUTZU5+fPCLKBjt85xzlmSDarQFdaEgMhis
  ZLDmbHi7vX0LXVy6lvzyzyC9f5kmhjKkmgVIJ0+h5svAzAwC5CJWQAkB1VOkxkOU
  vARznHm3ZvZ0goocscT9GeODYkkT/psnmQLlucAmvs5sT198azFqFVtgCNWgOPZk
  U86P8zok79SomSVHzO/SoAI4Mq0lBu/xOBpOVfSOJDkFE29FCOAXU4i8IJB8d628
  2J4ufF3pjOHujSxU6yLv00x97L+tKH1+FSez0fyQZAxuYBwcY2UP/9dm3tZydvNE
  4GBOsHWHr3rLKq2EXAi4AHMhe/uTPVl5qqgKpOSpvt9fYrqiyG1/WMJuT8zSHKNa
  ryVt88L16UTehCvmEG7Oax3gF4XYgvXbdMQ+BRy+gr1VAgMBAAGjUzBRMB0GA1Ud
  DgQWBBR3o5FwMpCz5yk95sO9dx5mp1XpAzAfBgNVHSMEGDAWgBR3o5FwMpCz5yk9
  5sO9dx5mp1XpAzAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4ICAQCS
  hWIIqHdso0vpvqtXvFMRuXq6/JNCHgiXPxg4sYL28eeJFL2qwfXExcYKeddxgSxX
  RfUx+TOp7QKr70aoSLdiYi4Wk8zPRNdoJL22eRagCu1zGtoav9rMDBLE9Vr9Grhf
  KJ1NrunXkp8IpFAWnWWQJp1wYjY9YpOLOW8gaAoFIlnTqAEin72nKas57WArcHeR
  WZZ+lxyU3tbGZ54TTJl1kiYt0biG7zKCdvvraZG6oI7aOHJblK00kxsT5w1/skC9
  btwM5JX3bQPBk906S+uNd5XCmOXLycLsu8b3LDEgiZozsQuht9YbIz3EueSb6SRt
  0ecGI5w1yKIWSRE9ZP2Y+AQu5WgCeB9uVGOFg1fZrrO2OSXHkYVe9TwCp4r4PAvs
  qznodRd1rb0/N1ryiVHchSMbYNhX2kjs5RURJxyW+LSYH4hyr7yGz6k+Yu+3BrIA
  b5fVxXosg2iF+bVxUqmm79HdkEp0mm2iVgXq34PuGJKzW7kuLbdKgxNrkt8U/fZL
  yPNpth5vb9hJDNFca6WEIe1V2HWNQp97pf/jH+0yoWelDy4dL7EYhxCc4mG0/rZT
  G7B9y8yz+FH4qQoMkfTQ7rREbXYclLFkbaRFdTSXldf2T8AwM1xM/WqPkYdKDfkO
  ECUhaP6zUCf4hqx4crtlMPuPKS/3A9DwfcRYo2IwVQ==
  -----END CERTIFICATE-----

###  End of The-Swarm vars  ###

# Force python3 to be used with Ansible, do not edit!
ansible_python_interpreter: /usr/bin/python3