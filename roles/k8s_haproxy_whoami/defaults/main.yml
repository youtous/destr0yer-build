---
# This role deploys a whoami image, useful for tests and debugging

k8s_haproxy_whoami_image_version: "latest"
k8s_haproxy_whoami_image: "docker.io/traefik/whoami:{{ k8s_haproxy_whoami_image_version }}"

k8s_haproxy_whoami_namespace: whoami
k8s_haproxy_whoami_domain: "who.{{ k8s_base_cluster_domain }}"
k8s_haproxy_whoami_replicas: 1

k8s_haproxy_whoami_allowlist: "{{ (trusted_backend_ips + ['127.0.0.1'] | flatten) | join(', ') }}"

# if set to false, namespace will be deleted with associated resources
k8s_haproxy_whoami_enabled: true

# kube config
k8s_haproxy_whoami_kubeconfig_path: "{{ ansible_env.HOME }}/.kube/config"
k8s_haproxy_whoami_token: "{{ k8s_service_account_admin_token }}"
...
