---
# This role install glances from pip
- name: Install build requierements
  become: true
  ansible.builtin.apt:
    name:
      - python3-dev
      - lm-sensors
      - psensor
      - psensor-server
      - python3-psutil
      - python3-jinja2

# our ssh client needs to be upgraded in order to support secure cyphers
- name: Install glances at latest version
  become: true
  ansible.builtin.pip:
    executable: pip3
    name:
      - psutil
      - glances
      - py-cpuinfo
    state: latest # noqa package-latest
    extra_args: --upgrade --break-system-packages
...
