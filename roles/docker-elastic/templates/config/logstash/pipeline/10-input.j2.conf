input {
  tcp {
    port => 5000
    type => syslog
    ssl_enable => true
    ssl_certificate_authorities => ["/etc/ca.crt"]
    ssl_cert => "/etc/server.crt"
    ssl_key => "/etc/server.key"
    ssl_verify => true
  }
  beats {
    port => 5044
    tags => ["input_beats"]
    ssl => true
    ssl_certificate_authorities => ["/etc/ca.crt"]
    ssl_certificate => "/etc/server.crt"
    ssl_key => "/etc/server.key"
    ssl_verify_mode => force_peer
    tls_min_version => "1.2"
  }
  tcp {
    port => 5064
    tags => ["input_external_logstash"]
    codec => json
    ssl_enable => true
    ssl_certificate_authorities => ["/etc/ca.crt"]
    ssl_cert => "/etc/server.crt"
    ssl_key => "/etc/server.key"
    ssl_verify => true
  }
  http {
    host => "0.0.0.0"
    port => "8080"
    type => "http-input"
  }
  # http listener used for healthchecking only
  http {
    host => "0.0.0.0"
    port => "8082"
    type => "elb-healthcheck"
  }
}